<%= form_for resource, as: :user,
  url: url do |f| %>
  <%= devise_error_messages! %>
  <div class="form-group">
    <div class="input-group">
      <span class="input-group-addon">
        <span class="glyphicon glyphicon-user"></span>
      </span>
      <%= f.email_field :email, autofocus: true,
        placeholder: t("devise.registrations.email"),
        class: "form-email form-control" %>
    </div>
  </div>
  <div class="form-group">
    <div class="input-group">
      <span class="input-group-addon">
        <span class="glyphicon glyphicon-lock"></span>
      </span>
      <%= f.password_field :password, autofocus: true,
        placeholder: t("devise.registrations.password"),
        class: "form-password form-control" %>
    </div>
  </div>

  <% if action == "login" %>
    <div class="form-group">
      <% if devise_mapping.rememberable? %>
        <div class="field">
          <%= f.check_box :remember_me %>
          <%= f.label :remember_me %>
        </div>
      <% end %>
    </div>
  <% end %>

  <% if action == "register" %>
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon">
          <span class="glyphicon glyphicon-lock"></span>
        </span>
      <%= f.password_field :password_confirmation,
        placeholder: t("devise.registrations.confirm_pass"),
        class: "form-password form-control" %>
      </div>
    </div>
    <%= f.fields_for :profile do |p| %>
      <div class="form-group">
        <%= p.text_field :name,
          placeholder: t("devise.registrations.name"),
          class: "form-password form-control" %>
      </div>
    <% end %>
  <% end %>
  <div class="form-group">
    <div class="actions">
      <%= f.submit t("devise.sessions.title"),
        class: "btn form-control" %>
    </div>
  </div>
<% end %>
<%= render "devise/shared/links" %>
